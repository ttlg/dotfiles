
function select-edit () {
	if [ -f .gitignore ]; then
	  local selected_file=$(git ls-files | peco)
	else
	  local selected_file=$(find . -type f | peco)
	fi
    if [ -n "$selected_file" ]; then
        BUFFER="vim ${selected_file}"
        zle accept-line
    fi
}
zle -N select-edit
bindkey '^v' select-edit
